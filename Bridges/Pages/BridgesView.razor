@page "/bridgesview"

@using Bridges.Services;

<form method="post">
    <p>
        Columns:
        <select id="IdDdColCount" name="ddColCount" onchange="@colCount = 3;">
            <option value="1">One</option>
            <option value="2">Two</option>
            <option value="3">Three</option>
            <option value="4">Four</option>
            <option value="5">Five</option>
            <option value="6" selected="selected">Six</option>
            <option value="7">Seven</option>
            <option value="8">Eight</option>
        </select>
    </p>
</form>

<table>
    @foreach (var bridge in new BridgesService().GetBridges)
    {
        var x = (i) % colCount;

        if (x == 0)
        {
            @:<tr>
        }

            <td>
                <div class="container">
                    <a href="Images/@bridge.Filename">
                        <img title="@bridge.Name" height="200" width="200" src="Images/@bridge.Filename" />
                        <div class="text-block">
                            <h5>@bridge.Name</h5>
                            <p>@bridge.Description</p>
                        </div>
                    </a>
                </div>
            </td>

            if (x == 0)
            {
            @:</tr>
        }
        i++;
    }
</table>

@code
{
    int i;
    int colCount = 6;
}

@*@section scripts{
    <script>
        $('select[name="IdDdColCount"]').change(function () {
            var val = $(this).val();
            console.log(val);
            
        });
    </script>
}*@